<h2><%= t "edit.#{resource_name}" %></h2>

<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put }) do |f| %>
  <%= devise_error_messages! %>

  <p><%= f.label :email %><br />
  <%= f.text_field :email %></p>

  <p><%= f.label :locale  %><br />
  <%= f.select :locale, options_for_select([['English', 'en'], ['Русский', 'ru']], I18n.locale) %>

  <p><%= f.label :design_theme %><br />
  <%= select_tag :design_theme, options_for_select(CONST['themes'].map{|theme| [t("common.themes.#{theme}"), theme]}, @theme) %></p>

  <p><%= f.label :time_zone %><br />
  <%= f.time_zone_select :time_zone, /Moscow/ %></p>

  <p><%= f.label :current_password %> <i>(<%= t('current_password_hint')%>)</i><br />
  <%= f.password_field :current_password %></p>

  <p><%= f.label :password %> <i>(<%= t 'password_hint' %>)</i><br />
  <%= f.password_field :password %></p>

  <p><%= f.label :password_confirmation %><br />
  <%= f.password_field :password_confirmation %></p>

  <p><%= f.submit t('common.update') %></p>
<% end %>

<h3><%= t 'user.cancel' %></h3>

<p><%= t 'user.cancel_unhappy' %> <%= link_to t('user.cancel_link'), registration_path(resource_name), :confirm => t ('user.cancel_confirm'), :method => :delete %>.</p>

<%= link_to t('common.back'), :back %>
